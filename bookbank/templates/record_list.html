{% extends 'base.html' %}
{% block container %}

<!DOCTYPE html>
<html lang="en">

<head>
    <title>record-list</title>
    <style>
        .record-list {
            width : 80%;
            margin-left: auto;
            margin-right: auto;
        }
        .record-list a {
            width: 100%;
        }
        .rep-img {
            max-width: 100%;
        }
    </style>

    <script>
        function redirectRecord(record_id) {
            window.location.href = "/records/"+record_id;
        }

        function mouseover(obj) {
            obj.className= "card col-md-12 flex-md-row mb-3 shadow-lg";
        }

        function mouseout(obj) {
            obj.className = "card col-md-12 flex-md-row mb-3 shadow-sm";
        }
    </script>
</head>

<body>
    {% include 'nav.html' %}

    <div class="container">
        <div class="row">
            {%for record in records %}
                <div class="card col-md-12 flex-md-row mb-3 shadow-sm " style="margin: 7px;"  onmouseover="mouseover(this)" onmouseout="mouseout(this)">
                    <div class="card-body d-flex flex-column align-items-start" onclick="redirectRecord({{record.id}})">
                        <div class="row no-gutters" style="width: 100%;">
                            <div class="col-md-4 shadow" style="display: inline; max-width: 100px; max-height: 200px;margin-right: 10px;">
                            {% if record.rep_img %}
                                <img class="rep-img" src="{{ record.rep_img.url }}">
                            {% endif %}
                            </div>
                            <div class="col-md-10" >
                                <strong class=" text-primary">{{record.title}}</strong>
                                <h6 class="text-dark">{{record.record_title}}</h6>
                                <h6 class="text-dark">{{record.author}}</h6>
                                <p class="card-text mb-auto">{{record.summary}}</p>
                                <a href="{%url 'user' %}?username={{record.publisher}}" class="card-link">{{record.publisher}}</a>
                                <span class="card-text">{{record.read_at}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                {%endfor%}
        </div>
        </div>

    {%include 'footer.html'%}
</body>
</html>

{% endblock %}